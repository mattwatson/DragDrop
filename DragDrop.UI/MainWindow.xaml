<Window x:Class="DragDrop.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MainWindow" Height="350" Width="525">
  <Grid Margin="10">
    <Grid.Resources>
      <Style TargetType="{x:Type ListBoxItem}">
        <Style.Setters>
          <Setter Property="AllowDrop" Value="true"/>
          <EventSetter Event="PreviewMouseDown" Handler="OnListBoxItemMouseDown"/>
          <EventSetter Event="PreviewMouseMove" Handler="OnListBoxItemMouseMove" />
          <EventSetter Event="PreviewMouseUp" Handler="OnListBoxItemMouseUp" />
         </Style.Setters>
      </Style>
    </Grid.Resources>
    <Grid.ColumnDefinitions>
      <ColumnDefinition/>
      <ColumnDefinition Width="Auto"/>
      <ColumnDefinition/>
    </Grid.ColumnDefinitions>
    <Canvas Name="DragContainer"/>
    
    <GroupBox Grid.Column="0" Header="Available" Margin="5" ClipToBounds="False">
      <ListBox SelectionMode="Extended" 
               MouseUp="OnListBoxMouseUp" 
               PreviewMouseMove="OnListBoxMouseMove">
        <ListBoxItem>Currency</ListBoxItem>
        <ListBoxItem>ATM</ListBoxItem>
        <ListBoxItem Content="Strike"/>
        <ListBoxItem Content="Rho"/>
      </ListBox>
    </GroupBox>

    <GroupBox Grid.Column="2" Header="Selected" Margin="5" ClipToBounds="False">
      <ListBox SelectionMode="Extended" 
               MouseUp="OnListBoxMouseUp" 
               PreviewMouseMove="OnListBoxMouseMove" ClipToBounds="False">
        <ListBoxItem>Vega</ListBoxItem>
        <ListBoxItem>Delta</ListBoxItem>
        <ListBoxItem Content="Group"/>
        <ListBoxItem Content="Notional"/>
      </ListBox>
    </GroupBox>
  </Grid>
</Window>
